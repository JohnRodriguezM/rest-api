"use strict";import{postDog}from"./peticion.mjs";const DomData={form:document.getElementById("formUploadCat"),inputFile:document.getElementById("uploadCat"),btn_file:document.getElementById("submitPhoto")},{form:form,btn_file:btn_file,inputFile:inputFile}=DomData;inputFile.addEventListener("input",e=>{let t=e.target.files;if(t.length>0){const e=new FileReader;console.log(e),e.onload=(e=>{document.getElementById("preview").src=e.target.result,document.getElementById("preview").style.display="block"}),e.readAsDataURL(t[0])}});const uploadDogFormData=async e=>{const t={method:"POST",headers:{"X-API-KEY":"ce0e512f-9d50-41e8-9c8b-216fb89807a8"},body:new FormData(form)},o=await fetch("https://api.thedogapi.com/v1/images/upload",t);console.log("upload",o);const a=await o.json();console.log("uploaded cat",a);const l=await postDog(a.id);console.log("soy el post",l),location.reload()};btn_file.addEventListener("click",uploadDogFormData);